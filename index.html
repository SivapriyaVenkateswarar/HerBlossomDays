<!DOCTYPE html>
<html>
<head>
    <title>Menstrual Health Chatbot</title>
</head>
<body>
    <input id="query" placeholder="Ask about periods..." />
    <select id="faith">
        <option value="general">General</option>
        <option value="hindu">Hindu</option>
        <option value="islamic">Islamic</option>
        <option value="christian">Christian</option>
    </select>
    <button onclick="submitQuery()">Ask</button>
    <div id="response"></div>
    <audio id="audio" controls></audio>
    <script>
        async function submitQuery() {
            const query = document.getElementById('query').value;
            const faith = document.getElementById('faith').value;
            const res = await fetch(`/chat?query=${encodeURIComponent(query)}&faith=${faith}`);
            const data = await res.json();
            document.getElementById('response').innerHTML = `
                <p>Response: ${data.text_response}</p>
                <p>Quote: ${data.quote}</p>
            `;
            if (data.voice_support) {
                document.getElementById('audio').src = '/audio';
            }
        }
    </script>
</body>
</html>